"use strict";(self.webpackChunkfootball_manager=self.webpackChunkfootball_manager||[]).push([[438],{4438:function(e,s,n){n.r(s),n.d(s,{default:function(){return W}});var i=n(885),t=n(2791),a=n(4653),r=n(8342),l=n(4165),c=n(5861),o=n(3504),d=n(4765),u={"files-section":"DiaryFiles_files-section__+cV8I",title:"DiaryFiles_title__mLE2k","files-table":"DiaryFiles_files-table__8OLOf","recap-file":"DiaryFiles_recap-file__EzM38","recap-file__edit":"DiaryFiles_recap-file__edit__MfXLM",action:"DiaryFiles_action__R93kt",slideIn:"DiaryFiles_slideIn__fu8ZE"},p=n(184),m=function(e){var s=e.recapList,n=e.onDelete,a=(0,t.useState)(""),r=(0,i.Z)(a,2),l=r[0],c=r[1],m=(0,t.useRef)();(0,d.O)(m,(function(){return c("")}));return(0,p.jsxs)(p.Fragment,{children:[s.length>0&&s.map((function(e){var s=e.id,i=e.title,t=e.opponent,a=e.date,r=e.teamScore,d=e.opponentScore;return(0,p.jsxs)("tr",{id:s,children:[(0,p.jsx)("td",{children:(0,p.jsx)(o.rU,{to:"".concat(s),className:u["recap-file"],children:i})}),(0,p.jsx)("td",{children:t}),(0,p.jsx)("td",{children:a}),(0,p.jsxs)("td",{children:[r||"-"," : ",d||"-"]}),(0,p.jsxs)("td",{children:[(0,p.jsx)("button",{onClick:function(){return function(e){c(e)}(s)},className:u["recap-file__edit"],children:(0,p.jsx)("i",{className:"fa-solid fa-ellipsis"})}),l===s&&(0,p.jsxs)("div",{ref:m,className:u.action,children:[(0,p.jsx)("span",{onClick:function(){return n(s)},className:u.editBtn,children:"Delete"}),(0,p.jsx)("span",{onClick:function(){return c("")},className:u.deleteBtn,children:"Cancel"})]})]})]},s)})).reverse(),0===s.length&&(0,p.jsx)("tr",{children:(0,p.jsx)("td",{children:(0,p.jsx)("h4",{children:"There is not thing here!"})})})]})},h=t.memo(m),x=n(2600),j=n(4046),_=n(654),f=n(9137),y=function(){var e=(0,t.useContext)(j.r),s=(0,t.useContext)(_.V).userUID,n=(0,t.useState)(!0),a=(0,i.Z)(n,2),r=a[0],o=a[1],d=function(){var n=(0,c.Z)((0,l.Z)().mark((function n(i){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.deleteRecapItem("".concat(x.J,"/").concat(s),i);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}();return(0,t.useEffect)((function(){e.fetchRecapList("".concat(x.J,"/").concat(s,"/diary-files.json")).then((function(){o(!1)}))}),[]),(0,p.jsxs)("section",{className:u["files-section"],children:[(0,p.jsx)("div",{className:u.title,children:(0,p.jsx)("h2",{children:"My Diary"})}),(0,p.jsxs)("table",{className:u["files-table"],children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Recap"}),(0,p.jsx)("th",{children:"Opponent"}),(0,p.jsx)("th",{children:"Date"}),(0,p.jsx)("th",{children:"Score"}),(0,p.jsx)("th",{children:"Edit"})]})}),(0,p.jsxs)("tbody",{children:[r&&(0,p.jsx)("tr",{children:(0,p.jsx)("td",{children:(0,p.jsx)(f.Z,{color:"#65CD95"})})}),!r&&(0,p.jsx)(h,{onDelete:d,recapList:e.recapList})]})]})]})},v="RecentlyView_recently-view__c3EBQ",g="RecentlyView_titles__WpWYB",N="RecentlyView_view-title__ltsPH",w="RecentlyView_see-more__mLZBU",R="RecentlyViewList_view-list__8mixt",D="RecentlyViewList_view-card__rl43I",F="RecentlyViewList_view-card__wrapper__UdVj7",Z="RecentlyViewList_thumbnail__rl8Kw",b="RecentlyViewList_card-title__AHgUY",C=function(){return(0,p.jsx)("section",{className:R,children:(0,p.jsxs)(a.X2,{children:[(0,p.jsx)(a.JX,{sm:4,children:(0,p.jsxs)("div",{className:D,children:[(0,p.jsx)("div",{className:F}),(0,p.jsx)("div",{className:Z,children:(0,p.jsx)("img",{src:"https://img.lovepik.com/photo/20211208/medium/lovepik-vertical-shot-vertical-screen-guilin-scenery-picture_501582051.jpg",alt:""})}),(0,p.jsxs)("div",{className:b,children:[(0,p.jsx)("p",{children:"diary.docx"}),(0,p.jsx)("span",{children:"edited 8m ago"})]})]})}),(0,p.jsx)(a.JX,{sm:4,children:(0,p.jsxs)("div",{className:D,children:[(0,p.jsx)("div",{className:F}),(0,p.jsx)("div",{className:Z,children:(0,p.jsx)("img",{src:"https://i.ytimg.com/vi/0R2pXjCzTHk/maxresdefault.jpg",alt:""})}),(0,p.jsxs)("div",{className:b,children:[(0,p.jsx)("p",{children:"diary.docx"}),(0,p.jsx)("span",{children:"edited 8m ago"})]})]})}),(0,p.jsx)(a.JX,{sm:4,children:(0,p.jsxs)("div",{className:D,children:[(0,p.jsx)("div",{className:F}),(0,p.jsx)("div",{className:Z,children:(0,p.jsx)("img",{src:"https://i.ytimg.com/vi/0R2pXjCzTHk/maxresdefault.jpg",alt:""})}),(0,p.jsxs)("div",{className:b,children:[(0,p.jsx)("p",{children:"diary.docx"}),(0,p.jsx)("span",{children:"edited 8m ago"})]})]})})]})})},U=function(){return(0,p.jsxs)("section",{className:v,children:[(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("h2",{className:N,children:"Recently access"}),(0,p.jsx)("button",{className:w,children:(0,p.jsx)("span",{children:"See more"})})]}),(0,p.jsx)(C,{})]})},S={"upload-section":"Upload_upload-section__KSywV",title:"Upload_title__cdK53","upload-box":"Upload_upload-box__JRyEY",guide:"Upload_guide__Tempg",icon:"Upload_icon__i7B9V",sup:"Upload_sup__EuR5i"},M=function(e){return(0,p.jsxs)("section",{className:S["upload-section"],children:[(0,p.jsx)("div",{className:S.title,children:(0,p.jsx)("h2",{children:"Upload files"})}),(0,p.jsx)("section",{className:S.upload,children:(0,p.jsx)("div",{className:S["upload-box"],onClick:e.onShowModal,children:(0,p.jsxs)("div",{className:S.guide,children:[(0,p.jsx)("span",{className:S.icon,children:(0,p.jsx)("i",{className:"fa-solid fa-file-arrow-up"})}),(0,p.jsx)("p",{children:"Drag and drop files, or Browse"}),(0,p.jsx)("span",{className:S.sup,children:"Support url of youtube"})]})})})]})},k=n(7363),E=n(1413),L=n(5582),V=n(4436),X={"diary-form":"DiaryForm_diary-form__1Ayz9","title-input":"DiaryForm_title-input__bdF6k","recap-wrapper":"DiaryForm_recap-wrapper__Cj3Gc","media-input":"DiaryForm_media-input__6wztU","image-input":"DiaryForm_image-input__9WyKC",selected:"DiaryForm_selected__HGPTy","recap-writing":"DiaryForm_recap-writing__lUgnD","recap-textarea":"DiaryForm_recap-textarea__RPlyZ","info-wrapper":"DiaryForm_info-wrapper__CV8s5","final-score":"DiaryForm_final-score__MARV-",action:"DiaryForm_action__+dUmo"},I="FormStatus_status__bfBAD",J="FormStatus_message__iCTF6",O=function(e){return(0,p.jsxs)("div",{className:I,children:[(0,p.jsx)("span",{className:J,children:e.children}),(0,p.jsx)(L.Z,{onClick:e.onResetUpload,children:"Ok"})]})},B=n(7894),T={isError:!1,errorMessage:null},A=function(e){var s=(0,t.useContext)(j.r),n=(0,t.useState)([]),r=(0,i.Z)(n,2),l=r[0],c=r[1],o=(0,t.useState)(!1),d=(0,i.Z)(o,2),u=d[0],m=d[1],h=(0,t.useState)(T),f=(0,i.Z)(h,2),y=f[0],v=f[1],g=(0,t.useContext)(_.V).userUID,N=(0,t.useRef)(null),w=(0,t.useRef)(null),R=(0,t.useRef)(null),D=(0,t.useRef)(null),F=(0,t.useRef)(null),Z=(0,t.useRef)(null),b=(0,t.useRef)(null),C=(0,t.useRef)(null);return(0,t.useEffect)((function(){N.current.focus()}),[]),u?(0,p.jsx)(O,{onResetUpload:function(){c([]),m((function(e){return!e}))},children:"Progress Successfully!"}):y.isError?(0,p.jsx)(O,{onResetUpload:function(){v((function(e){return T}))},children:y.errorMessage}):(0,p.jsx)("form",{className:X["diary-form"],onSubmit:function(e){e.preventDefault();var n={title:N.current.value,video:w.current.value,textarea:R.current.value,opponent:D.current.value,teamScore:F.current.value,opponentScore:Z.current.value,date:b.current.value,location:C.current.value};if(Object.values(n).every((function(e){return""===e})))v((function(e){return(0,E.Z)((0,E.Z)({},e),{},{isError:!0,errorMessage:"All fields is empty! Please input Once"})}));else{var i=(0,B.Z)(n);i.title?v((function(e){return(0,E.Z)((0,E.Z)({},e),{},{isError:!0,errorMessage:i.title})})):i.video?v((function(e){return(0,E.Z)((0,E.Z)({},e),{},{isError:!0,errorMessage:"".concat(i.video,": At this time, you only can use the copy URL video on Youtube (Right click and copy URL)")})})):function(e){var n="".concat(e.title.split(" ").join("-")||"Filename","-").concat((new Date).getDate(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getFullYear(),"-").concat((new Date).getHours(),"-").concat((new Date).getMinutes(),"-").concat((new Date).getSeconds()),i=(0,E.Z)((0,E.Z)({},e),{},{imagesRef:"".concat(g,"/diary/images-").concat(n)});s.uploadRecapItem("".concat(x.J,"/").concat(g,"/diary-files.json"),i,l,n,g).then((function(){return m(!0)})).catch((function(e){console.log(e),v((function(s){return(0,E.Z)((0,E.Z)({},s),{},{isError:!0,errorMessage:e.message})}))}))}(n)}},children:(0,p.jsxs)(a.X2,{children:[(0,p.jsx)(a.JX,{sm:8,children:(0,p.jsxs)("div",{className:X["recap-wrapper"],children:[(0,p.jsx)("input",{ref:N,className:X["title-input"],type:"text",name:"title",placeholder:"Recap titles",id:""}),(0,p.jsxs)("div",{className:X["media-input"],children:[(0,p.jsxs)("label",{htmlFor:"imageInput",children:[!l.length&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{children:(0,p.jsx)("i",{className:"fa-solid fa-image"})}),(0,p.jsx)("span",{children:"Upload your image"})]}),l.length>0&&(0,p.jsxs)("span",{className:X.selected,children:[l.length," files selected"]}),(0,p.jsx)("input",{onChange:function(e){var s=e.target.files,n=Array.from(s);c(n)},className:X["image-input"],type:"file",name:"",id:"imageInput",multiple:!0})]}),(0,p.jsxs)("label",{htmlFor:"videoInput",children:[(0,p.jsx)("span",{}),(0,p.jsx)("input",{ref:w,className:X["video-input"],type:"text",name:"url",id:"videoInput",placeholder:"Enter your record URL video"})]})]}),(0,p.jsx)("div",{className:X["recap-writing"],children:(0,p.jsx)("textarea",{ref:R,className:X["recap-textarea"],name:"recap",id:"",placeholder:"How was the match?"})})]})}),(0,p.jsxs)(a.JX,{style:{display:"flex",flexDirection:"column"},sm:4,children:[(0,p.jsxs)("div",{className:X["info-wrapper"],children:[(0,p.jsx)("input",{ref:D,className:X["opponent-input"],type:"text",placeholder:"Opponent",name:"Opponent",id:""}),(0,p.jsxs)("label",{htmlFor:"",className:X["final-score"],children:[(0,p.jsx)("span",{children:"Final Score: "}),(0,p.jsx)("input",{ref:F,type:"number",placeholder:"Team",min:0,name:"Team score"}),(0,p.jsx)("input",{ref:Z,type:"number",placeholder:"Opponent",min:0,name:"Opponent score"})]}),(0,p.jsx)("input",{ref:b,className:X["date-input"],type:"date",name:"",id:""}),(0,p.jsx)("input",{ref:C,className:X["location-input"],placeholder:"Location",type:"text",name:"",id:""})]}),(0,p.jsxs)("div",{className:X.action,children:[(0,p.jsx)(V.Z,{onClick:e.onCloseModal,children:"Cancel"}),(0,p.jsx)(L.Z,{children:"Save"})]})]})]})})},H="UploadModalDialog_upload-dialog__EWCfN",z="UploadModalDialog_titles__+3RWR",P=function(e){return(0,p.jsxs)("section",{className:H,children:[(0,p.jsx)("header",{children:(0,p.jsx)("div",{className:z})}),(0,p.jsx)("main",{children:(0,p.jsx)(A,{onCloseModal:e.onCloseModal})})]})},W=function(){var e=(0,r.d)(),s=(0,i.Z)(e,2),n=s[0],t=s[1];return(0,p.jsxs)(p.Fragment,{children:[n&&(0,p.jsx)(k.Z,{onShowModal:t,children:(0,p.jsx)(P,{onCloseModal:t})}),(0,p.jsxs)(a.X2,{children:[(0,p.jsxs)(a.JX,{sm:8,children:[(0,p.jsx)(U,{}),(0,p.jsx)(M,{onShowModal:t}),(0,p.jsx)(y,{})]}),(0,p.jsx)(a.JX,{sm:4})]})]})}}}]);
//# sourceMappingURL=438.01c67d6a.chunk.js.map